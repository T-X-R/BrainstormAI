# ğŸ§  BrainstormAI

**AI ç¾¤ç»„å¤´è„‘é£æš´** - è®©ä¸åŒæ€§æ ¼çš„ AI ä¸€èµ·è®¨è®ºä½ çš„é—®é¢˜

## âœ¨ ç‰¹æ€§

- ğŸ¤– **å¤š AI å‚ä¸**ï¼šæœ€å¤š 5 ä¸ªå…·æœ‰ä¸åŒæ€§æ ¼å’Œè¯´è¯é£æ ¼çš„ AI åŒæ—¶å‚ä¸è®¨è®º
- ğŸ­ **è‡ªåŠ¨ç”Ÿæˆäººæ ¼**ï¼šæ¯ä¸ª AI ä¼šè‡ªåŠ¨ç”Ÿæˆç‹¬ç‰¹çš„æ˜µç§°ã€æ€§æ ¼å’Œè¯´è¯é£æ ¼
- ğŸ’¬ **è‡ªç”±äº¤äº’**ï¼šAI å¯ä»¥è‡ªä¸»é€‰æ‹©å›å¤ç”¨æˆ·ã€è¯„è®ºå…¶ä»– AI çš„è§‚ç‚¹æˆ–ä¿æŒæ²‰é»˜
- âš¡ **å®æ—¶æµå¼è¾“å‡º**ï¼šé€šè¿‡ WebSocket å®æ—¶å±•ç¤º AI çš„æ€è€ƒè¿‡ç¨‹
- ğŸ¯ **ç”¨æˆ·å¼•å¯¼**ï¼šéšæ—¶æ’è¯æ”¹å˜è¯é¢˜æ–¹å‘æˆ–ç»ˆæ­¢è®¨è®º
- ğŸ“¥ **å¯¼å‡ºè®°å½•**ï¼šä¼šè¯ç»“æŸåå¯¼å‡ºå®Œæ•´çš„è®¨è®ºè®°å½•

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Python 3.11 + FastAPI + LangChain 1.2.0
- **æ•°æ®åº“**: SQLite (SQLAlchemy å¼‚æ­¥)
- **å‰ç«¯**: åŸç”Ÿ HTML/CSS/JavaScript (æ— æ¡†æ¶)
- **é€šä¿¡**: WebSocket (å®æ—¶åŒå‘é€šä¿¡)
- **æç¤ºè¯**: Jinja2 æ¨¡æ¿ (Markdown æ ¼å¼)
- **æ—¥å¿—**: Loguru
- **åŒ…ç®¡ç†**: uv

## ğŸ“¦ å®‰è£…

### 1. å…‹éš†ä»“åº“ï¼ˆå¦‚æœå°šæœªå…‹éš†ï¼‰

```bash
cd /Users/tori/Desktop/Project/BrainstormAI
```

### 2. å®‰è£…ä¾èµ–

```bash
uv sync
```

### 3. é…ç½® API Key

ç¼–è¾‘ `config/app.yaml` æˆ–åˆ›å»º `config/app.local.yaml`ï¼ˆä¼šè¦†ç›–é»˜è®¤é…ç½®ï¼‰ï¼š

```yaml
llm:
  base_url: "https://api.openai.com/v1"  # æˆ–å…¶ä»– OpenAI å…¼å®¹ç«¯ç‚¹
  api_key: "your-api-key-here"
  default_model: "gpt-4o-mini"
  temperature: 0.8
```

æˆ–è€…é€šè¿‡ç¯å¢ƒå˜é‡ï¼š

```bash
export BRAINSTORM_LLM__API_KEY="your-api-key-here"
export BRAINSTORM_LLM__BASE_URL="https://api.openai.com/v1"
```

## ğŸš€ è¿è¡Œ

### å¯åŠ¨æœåŠ¡å™¨

```bash
uv run uvicorn src.app:app --host 0.0.0.0 --port 8000 --reload
```

æˆ–ä½¿ç”¨ main.pyï¼š

```bash
uv run python main.py
```

### è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8000`

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. åˆ›å»ºä¼šè¯

- è¾“å…¥è®¨è®ºä¸»é¢˜ï¼ˆä¾‹å¦‚ï¼š"æ˜¥èŠ‚ç»™å®¶äººé€ä»€ä¹ˆç¤¼ç‰©ï¼Ÿ"ï¼‰
- é€‰æ‹©å‚ä¸çš„ AI æ•°é‡ï¼ˆ1-5 ä¸ªï¼‰
- ç‚¹å‡» **"å¼€å§‹å¤´è„‘é£æš´"**

### 2. è§‚å¯Ÿ AI è®¨è®º

- AI ä¼šè‡ªåŠ¨ç”Ÿæˆä¸åŒçš„æ€§æ ¼å’Œè¯´è¯é£æ ¼
- å®ƒä»¬ä¼šäº’ç›¸è®¨è®ºã€è¯„è®ºã€æå‡ºä¸åŒè§‚ç‚¹
- å®æ—¶æµå¼æ˜¾ç¤ºæ¯ä¸ª AI çš„å‘è¨€

### 3. å‚ä¸è®¨è®º

- åœ¨è¾“å…¥æ¡†è¾“å…¥ä½ çš„æƒ³æ³•æˆ–é—®é¢˜
- æŒ‰ Enter æˆ–ç‚¹å‡» **"å‘é€"** æŒ‰é’®
- AI ä¼šæ ¹æ®ä½ çš„è¾“å…¥è°ƒæ•´è®¨è®ºæ–¹å‘

### 4. æ§åˆ¶ä¼šè¯

- **â¸ï¸ æš‚åœ AI**ï¼šåœæ­¢å½“å‰æ­£åœ¨ç”Ÿæˆçš„ AI å›å¤
- **ğŸ›‘ ç»“æŸä¼šè¯**ï¼šç»“æŸè®¨è®ºå¹¶å…³é—­è¿æ¥
- **ğŸ“¥ å¯¼å‡ºè®°å½•**ï¼šä¸‹è½½å®Œæ•´çš„è®¨è®ºè®°å½•ï¼ˆJSON æ ¼å¼ï¼‰

## ğŸ“ é¡¹ç›®ç»“æ„

```
BrainstormAI/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ app.yaml              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ http.py          # HTTP API è·¯ç”±
â”‚   â”‚   â””â”€â”€ ws.py            # WebSocket è·¯ç”±
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ logging.py       # æ—¥å¿—é…ç½®
â”‚   â”‚   â””â”€â”€ settings.py      # é…ç½®åŠ è½½
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â””â”€â”€ schemas.py       # Pydantic æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ infra/
â”‚   â”‚   â”œâ”€â”€ db/              # æ•°æ®åº“å±‚
â”‚   â”‚   â”œâ”€â”€ llm/             # LLM å·¥å‚
â”‚   â”‚   â””â”€â”€ prompts/         # æç¤ºè¯åŠ è½½å™¨
â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â”œâ”€â”€ persona_generation.j2   # AI äººæ ¼ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ agent_decision.j2       # AI å†³ç­–
â”‚   â”‚   â””â”€â”€ agent_reply.j2          # AI å›å¤ç”Ÿæˆ
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ orchestrator.py  # ç¾¤èŠç¼–æ’
â”‚   â”‚   â”œâ”€â”€ persona.py       # äººæ ¼ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ session.py       # ä¼šè¯ç®¡ç†
â”‚   â””â”€â”€ app.py               # FastAPI åº”ç”¨
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ index.html           # å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ style.css            # æ ·å¼
â”‚   â””â”€â”€ app.js               # å‰ç«¯é€»è¾‘
â”œâ”€â”€ main.py                  # å…¥å£æ–‡ä»¶
â””â”€â”€ pyproject.toml          # é¡¹ç›®ä¾èµ–
```

## âš™ï¸ é…ç½®è¯´æ˜

### LLM é…ç½®

```yaml
llm:
  base_url: "https://api.openai.com/v1"  # API ç«¯ç‚¹
  api_key: ""                             # API å¯†é’¥
  default_model: "gpt-4o-mini"           # é»˜è®¤æ¨¡å‹
  temperature: 0.8                        # åˆ›é€ æ€§ï¼ˆ0-2ï¼‰
  max_tokens: 1024                        # æœ€å¤§ token æ•°
  request_timeout: 60                     # è¯·æ±‚è¶…æ—¶ï¼ˆç§’ï¼‰
```

### ä¼šè¯é…ç½®

```yaml
session:
  max_agents: 5                          # æœ€å¤š AI æ•°é‡
  max_ai_messages_per_round: 10          # æ¯è½®æœ€å¤š AI æ¶ˆæ¯æ•°
  agent_cooldown_seconds: 2              # AI å†·å´æ—¶é—´
  max_auto_rounds: 5                     # æœ€å¤§è‡ªåŠ¨è½®æ•°
  round_timeout_seconds: 120             # è½®æ¬¡è¶…æ—¶
```

## ğŸ”Œ API æ–‡æ¡£

### HTTP API

- `POST /api/sessions` - åˆ›å»ºä¼šè¯
- `POST /api/sessions/{session_id}/end` - ç»“æŸä¼šè¯
- `GET /api/sessions/{session_id}/export` - å¯¼å‡ºä¼šè¯

### WebSocket API

è¿æ¥ï¼š`ws://localhost:8000/ws/sessions/{session_id}`

**å®¢æˆ·ç«¯å‘é€**ï¼š
```json
{"type": "user_message", "content": "ä½ çš„æ¶ˆæ¯"}
{"type": "stop"}
{"type": "end_session"}
```

**æœåŠ¡ç«¯å‘é€**ï¼š
```json
{"type": "agents_ready", "data": {...}}
{"type": "message_started", "data": {...}}
{"type": "message_delta", "data": {"token": "..."}}
{"type": "message_completed", "data": {...}}
{"type": "status", "data": {...}}
```

## ğŸ› æ•…éšœæ’é™¤

### 1. greenlet é”™è¯¯

```bash
uv sync  # é‡æ–°å®‰è£…ä¾èµ–
```

### 2. API Key æœªè®¾ç½®

ç¡®ä¿åœ¨ `config/app.yaml` æˆ–ç¯å¢ƒå˜é‡ä¸­è®¾ç½®äº† `api_key`

### 3. æ•°æ®åº“é”™è¯¯

åˆ é™¤ `brainstorm.db` æ–‡ä»¶å¹¶é‡å¯åº”ç”¨

### 4. WebSocket è¿æ¥å¤±è´¥

æ£€æŸ¥é˜²ç«å¢™è®¾ç½®ï¼Œç¡®ä¿ 8000 ç«¯å£å¯è®¿é—®

## ğŸ“ å¼€å‘è¯´æ˜

### æ·»åŠ æ–°çš„ AI æ¨¡å‹

ç¼–è¾‘ `src/infra/llm/factory.py`ï¼Œæ·»åŠ æ–°çš„æ¨¡å‹é…ç½®

### è‡ªå®šä¹‰æç¤ºè¯

ç¼–è¾‘ `src/prompts/` ç›®å½•ä¸‹çš„ `.j2` æ¨¡æ¿æ–‡ä»¶

### ä¿®æ”¹ UI

ç¼–è¾‘ `static/` ç›®å½•ä¸‹çš„æ–‡ä»¶

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**æç¤º**ï¼šé¦–æ¬¡è¿è¡Œæ—¶ï¼ŒAI å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´æ¥ç”Ÿæˆäººæ ¼ã€‚è¯·è€å¿ƒç­‰å¾… â³
